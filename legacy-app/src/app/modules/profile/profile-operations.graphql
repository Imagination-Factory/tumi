mutation RegisterUser($userInput: CreateUserInput!) {
  registerUser(userInput: $userInput) {
    id
  }
}

query getPaymentSetupSession {
  getPaymentSetupSession {
    id
  }
}

query getPhotoJourney {
  currentUser {
    eventRegistrations {
      id
      status
      event {
        id
        title
        icon
        location
        start
        photoShares {
          id
          type
          src
          original
          originalBlob
          container
          cols
          rows
        }
      }
    }
  }
}

query userProfile {
  currentUser {
    id
    fullName
    picture
    email_verified
    email
    phone
    university
    iban
    paypal
    birthdate
    firstName
    lastName
    calendarToken
    hasESNcard
    enrolmentStatus
    currentTenant {
      userId
      tenantId
      status
      stripeData {
        paymentMethodId
      }
    }
    organizedEvents(hideCancelled: true) {
      id
      title
      icon
      start
      needsRating
      userIsOrganizer
    }
    participatedEvents(hideCancelled: true) {
      id
      title
      icon
      start
      end
      needsRating
      userIsOrganizer
    }
  }
}

query getRegistrationCodeInfo($code: ID!) {
  eventRegistrationCode(id: $code) {
    id
    status
    registrationCreated {
      id
      belongsToCurrentUser
      transaction {
        id
        stripePayment {
          id
          status
          checkoutSession
        }
      }
    }
    targetEvent {
      id
      registrationMode
      title
      start
      prices
    }
  }
}

mutation submitEventFeedback($id: ID!, $rating: Int!, $comment: String) {
  rateEvent(id: $id, rating: $rating, comment: $comment) {
    id
    needsRating
  }
}

mutation useRegistrationCode($id: ID!, $price: Json) {
  useRegistrationCode(id: $id, price: $price) {
    id
    status
    registrationCreated {
      id
      belongsToCurrentUser
      transaction {
        id
        stripePayment {
          id
          status
          checkoutSession
        }
      }
    }
    targetEvent {
      id
      registrationMode
      title
      start
      prices
    }
  }
}

mutation updateProfile($input: UpdateProfileInput!) {
  updateProfile(input: $input) {
    id
    firstName
    lastName
    fullName
    university
    enrolmentStatus
    phone
  }
}
